<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <body>
    <div id='Datafile-mainDiv'>
      <div id="Datafile-TABS" class="yui-navset">
	<ul class="yui-nav">
	  <li id="Datafile-TAB0" class="selected"><a href="#Datafile-TAB0"><em>Introduction</em></a></li>
	  <li id="Datafile-TAB1"><a href="#Datafile-TAB1"><em>1. Extract Patient Set</em></a></li>
	  <li id="Datafile-TAB2"><a href="#Datafile-TAB2"><em>2A. Create Data File</em></a></li>
	  <li id="Datafile-TAB3"><a href="#Datafile-TAB3"><em>2B. View Data Files</em></a></li>
	  <li id="Datafile-TAB4"><a href="#Datafile-TAB4"><em>3. Upload to Cloud</em></a></li>
	  <li id="Datafile-TAB5"><a href="#Datafile-TAB5"><em>Plugin Help</em></a></li>
	  <!--<li id="Datafile-TAB2"><a href="#Datafile-TAB2"><em>Plugin Help</em></a></li>-->
	</ul>
	<div class="yui-content" id="Datafile-CONTENT">
	  <!-- Introduction -->
	  <div>
            <div class="Datafile-MainContent">
              <div style="width:100%; background: #4d4d4d;color:#fff; padding:5px;font-size:12px;">Version 0.1 <small>BETA</small></div><br/>
	      <div class="Datafile-MainContentPad">
		<div style="text-align:left">
		  <img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/scilhs.png" /><br/><br/>
		  <span style="font-size:22px;">&nbsp;SCILHS Local Site Admin Tool</span>
		</div>
		<br/>
		As the SCILHS local site administrator, you will be able to create an <strong>i2b2 data file</strong> from a <strong>SHRINE query</strong> by following the steps below.<br/>If you need help or guidance, please click on the Plugin Help tab above.<br/><br/>
		<table cellpadding="10" cellspacing="0" width="100%">
		  <tr>
		    <td width="10%" style="border-top:1px solid #ccc;border-bottom:1px solid #ccc;font-size:18px;">Step 1</td>
		    <td width="45%" style="border-top:1px solid #ccc;border-bottom:1px solid #ccc"><img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/step1s.png" /></td>
		    <td width="45%" style="border-top:1px solid #ccc;border-bottom:1px solid #ccc;font-size:14px;"><strong>Extract Patient Set from SHRINE Query</strong></td>
		  </tr>
                  <tr>
                    <td width="10%" style="border-bottom:1px solid #ccc;background:#f6f6f6;font-size:18px;">Step 2</td>
                    <td width="45%" style="border-bottom:1px solid #ccc;background:#f6f6f6;"><img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/step2s.png" /></td>
                    <td width="45%" style="border-bottom:1px solid #ccc;background:#f6f6f6;font-size:14px;"><strong>Create Data File from Patient Set</strong></td>
                  </tr>
                  <tr>
                    <td width="10%" style="border-bottom:1px solid #ccc;font-size:18px;">Step 3</td>
                    <td width="45%" style="border-bottom:1px solid #ccc;"><img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/step3s.png" /></td>
                    <td width="45%" style="border-bottom:1px solid #ccc;font-size:14px;"><strong>Instructions for Uploading to Cloud</strong></td>
                  </tr>
		</table>

		<div style="text-align:right;margin-top:15px;">
		<input onclick="$('Datafile-TAB1').click();" type="button" class="Datafile-button" value="Continue to Step 1: Extract Patient Set &gt;" />
		</div>
	      </div>
	    </div>
	  </div>
	  
	  <!-- Extract Patient Set-->
	  <div>
            <div class="Datafile-MainContent">
              <div style="width:100%; background: #4d4d4d;color:#fff; padding:5px;font-size:12px;"><strong>1. Extract Patient Set </strong><img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/arrow.png" align="absbottom" /> 2. Create Data File <img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/arrow.png" align="absbottom" /> 3. Upload to Cloud</div>
	      
	      <div class="Datafile-MainContentPad"><br/>
		<div style="text-align:left"><span style="font-size:22px;">Step 1: Extract Patient Set from SHRINE Query</span><br/>
		  <img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/step1.png" />
		  <br/><br/><strong>Purpose:</strong> This step allows you to generate an i2b2 patient set from a SHRINE query. Search the list of SHRINE queries below for the flagged/specified query to create a patient set from. Clicking on the query name will automatically prepare you to run the query locally.</div><br/>
		<strong>Search:</strong><br/>
		By Query Name [Contains]: <input type="text" id="ShrineAdmin-matchStr" value="" />&nbsp;&nbsp;&nbsp;By User Id: <input type="text" id="ShrineAdmin-userId" value="" />&nbsp;&nbsp;&nbsp;
		# of Results: <select id="ShrineAdmin-maxRecords" style="width:50px;">
		  <option value="10">10</option>
		  <option value="25" selected="selected">25</option>
		  <option value="50">50</option>
		  <option value="100">100</option>
		  </select> <input id="ShrineAdmin-onlyflagged" type="checkbox" checked="checked"/> Show Only Flagged Queries <input type="submit" value="Search" onclick="javascript:i2b2.Datafile.ShrineSearch();return false;"/> <span id="ShrineAdmin-loading">Loading...</span>
		<br/><br/>
		<strong>Results:</strong><br/>
		<div id="ShrineAdmin-results">
		</div>

                <div style="text-align:right;margin-top:15px;">
                  <input onclick="$('Datafile-TAB2').click();" type="button" class="Datafile-button" value="Continue to Step 2: Create Data File &gt;" />
                </div>

	      </div>
	      
	    </div>
	  </div>
	  <!-- Create Data File -->

				  
				  <div>
				    <div class="Datafile-MainContent">
                                      <div style="width:100%; background: #4d4d4d;color:#fff; padding:5px;font-size:12px;">1. Extract Patient Set <img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/arrow.png" align="absbottom" /> <strong>2. Create Data File</strong> <img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/arrow.png" align="absbottom" /> 3. Upload to Cloud</div><br/>
				      <div class="Datafile-MainContentPad" style="text-align:center;">
					<div style="text-align:left"><span style="font-size:22px;">Step 2: Create Data File</span><br/><br/>
                                        <img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/step2.png" /><br/><br/>
<strong>Purpose:</strong> This step will enable you to automatically create the Data File in CSV format. Drag & Drop a Previous Query with a Patient Set, and one or more Concepts (Ontology Terms) into the input boxes below, and then click the "Render Patient View Table" button to start the creation process.</div>
					<div class="droptrgtlbl">Previous Query:</div>
					<div class="droptrgt SDX-PRS" id="Datafile-PRSDROP"><img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/pointer.png" align="absbottom" style="margin-left:5px;" /> Drag &amp; Drop a <em>Previous Query</em> with a Patient Set here</DIV>
					<div class="droptrgtlbl">Concept(s):</div>
					<div class="droptrgt SDX-CONCPT" id="Datafile-CONCPTDROP"><div class="concptItem">Drop one or more Concepts here</div></DIV>  
					<div id="Datafile-DeleteMsg">Click a concept to remove it from the list.</div>
					
					<div class="droptrgtlbl"> </div>
					<div class="nodroptrgt"><input onclick="i2b2.Datafile.newResults();" type="button" class="Datafile-button" value="Render Patient Viewer Table" /> </div>
					<div style="text-align:left">
						
						<h3>Select Predefined Data File Structure:</h3> <select><option>Study #1: Obesity Study Test</option><option>Study #2: Beta Test Data File Structure</option><option>Study #3: Vijay's Manual Data File Structure</option></select> <input type="button" class="Datafile-button" value="Load" />
						<br/><br/>
						<h3>Load Custom Data File Structure</h3> 
					</div>


				      </div>
				    </div>
				  </div>
				  <!-- View Data File -->

				  <div>
				    <div class="Datafile-MainContent">
                                      <div style="width:100%; background: #4d4d4d;color:#fff; padding:5px;font-size:12px;">1. Extract Patient Set <img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/arrow.png" align="absbottom" /> <strong>2. Create Data File</strong> <img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/arrow.png" align="absbottom" /> 3. Upload to Cloud</div>
				      <div id="Datafile-ProcessTime" style="color:#888;padding:10px;font-size:11px;"></div>
				      <div id="Datafile-Status" style="font-size:16px;padding:10px;display:none;">
					<img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/ajax.gif" align="absmiddle"/> Processed <span id="Datafile-Processed" style="font-weight:bold;">0</span> of <span id="Datafile-PatientSetSize" style="font-weight:bold;">0</span> patients...
				      </div><br/>
<a class="Datafile-button" href="" id="Datafile-DownloadPtLink" download="patientlist.txt" style="margin-left:10px;width:200px;text-align:center;line-height:32px;text-decoration:none;display:none;"><img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/text.png" align="absbottom" border="0" /> Download Patient List File</a>

<iframe id="Datafile-DownloadLink" src="js-i2b2/cells/plugins/community/ShrineConnector/assets/download.html" style="border-style: none;width:250px;height:60px;display:none;"></iframe>

<!--<a class="Datafile-button" href="" id="Datafile-DownloadLink" download="datafile.csv" style="margin-left:10px;width:175px;text-align:center;line-height:32px;
text-decoration:none;display:none;"><img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/csv.png" align="absbottom" border="0" /> Download Data File</a>-->
<br/>
				      <div id="Datafile-ViewResults">
					
				      </div>

                <div style="text-align:right;margin-top:15px;">
                  <input onclick="$('Datafile-TAB4').click();" type="button" class="Datafile-button" value="Continue to Step 3: Upload to Cloud &gt;" />
                </div>

				    </div>
				  </div>

				  <!-- Mapping and Contact -->
				  <div>
				    <div class="Datafile-MainContent">
                                      <div style="width:100%; background: #4d4d4d;color:#fff; padding:5px;font-size:12px;">1. Extract Patient Set <img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/arrow.png" align="absbottom" /> 2. Create Data File <img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/arrow.png" align="absbottom" /> <strong>3. Upload to Cloud</strong></div><br/>
				      
				      <div class="Datafile-MainContentPad">
                                        <div style="text-align:left"><span style="font-size:22px;">Step 3: Instructions to Upload to Cloud</span><br/><br/><img src="js-i2b2/cells/plugins/community/ShrineConnector/assets/step3.png" />
<br/><br/><strong>Purpose:</strong> In this step you can upload your data file to the secure Amazon cloud workspace.</div><br/>
					<h3>Select CSV Data File:</h3>
					<p><input type="file" name="datafile" size="40"/> <input onclick="$('Datafile-TAB5').click();" type="button" class="Datafile-button" value="Upload" /></p>
					</div>

				      </div>
				    </div>


				  <!-- Creating Excel File -->
				  
				  <div>
                                    <div class="Datafile-MainContent">
                                      <div style="width:100%; background: #4d4d4d;color:#fff; padding:5px;font-size:12px;">Plugin Help</div><br/>
                                     <div class="Datafile-MainContentPad">
                                        <div style="text-align:left"><span style="font-size:22px;">SCILHS Local Site Admin Tool Help</span>
<br/><br/><strong>Contact Information:</strong> If you need assistance, please contact <a href="mailto:vijay_raghavan@hms.harvard.edu">Vijay Raghavan</a>
</div>

                                        </div>
                                      </div>
                                    </div>




                                    </div>
                                  </div>

				</div>
			</div>


		</div>


	</body>
</html>
